# XGuard Commit Message Security Guard

![XGuard Logo](resources/icons/icon.png)

åŸºäºé˜¿é‡Œå·´å·´AAIG YuFeng-XGuard-Reason-8Bæ¨¡å‹çš„VSCodeæ’ä»¶ï¼Œç”¨äºåœ¨å¼€å‘è€…ç¼–å†™å’Œæäº¤Git Commit Messageæ—¶å®æ—¶æ£€æµ‹æ•æ„Ÿä¿¡æ¯ã€‚

## ğŸ”’ æ ¸å¿ƒåŠŸèƒ½

- **å®æ—¶æ£€æµ‹**ï¼šåœ¨è¾“å…¥Commit Messageæ—¶å³æ—¶æ‰«ææ•æ„Ÿä¿¡æ¯
- **æ™ºèƒ½æ‹¦æˆª**ï¼šé˜²æ­¢å¯†ç ã€å¯†é’¥ã€èº«ä»½è¯å·ç­‰æ•æ„Ÿæ•°æ®æ³„éœ²åˆ°Gitå†å²
- **åŸç”Ÿè§£é‡Š**ï¼šç›´æ¥å±•ç¤ºXGuardæ¨¡å‹çš„åŸç”Ÿé£é™©è§£é‡Š
- **é›¶è¯¯åˆ¤**ï¼šä¸¥æ ¼åŸºäºXGuardæ¨¡å‹è¾“å‡ºï¼Œä¸è¿›è¡Œä»»ä½•èƒ½åŠ›å¤–æ¨
- **æœ¬åœ°è¿è¡Œ**ï¼šæ•°æ®ä¸å‡ºå¼€å‘æœºï¼Œä¿éšœéšç§å®‰å…¨
- **å…¨å±€æ£€æµ‹**ï¼šæ”¯æŒæ£€æµ‹ä»»æ„æ–‡ä»¶ä¸­çš„æ•æ„Ÿä¿¡æ¯ï¼Œä¸ä»…é™äºCommit Message
- **å¤šç¯å¢ƒæ”¯æŒ**ï¼šåŒæ—¶æ”¯æŒæ¡Œé¢ç‰ˆVSCodeå’Œcode-serverï¼ˆWebç‰ˆVSCodeï¼‰

## ğŸš€ å¿«é€Ÿå¼€å§‹
### ä¸€é”®å¼å®‰è£…ï¼ˆé£é€Ÿå®‰è£…ï¼‰
```bash
./setup-xguard.sh
```


## ğŸš€ æ‰‹åŠ¨å®‰è£…
### 1. å®‰è£…ä¾èµ–

```bash
# å®‰è£…Pythonä¾èµ–
cd server
pip install -r requirements.txt

# å®‰è£…Node.jsä¾èµ–
cd ../client
npm install
```

### 2. å¯åŠ¨XGuardæœåŠ¡

```bash
# åœ¨serverç›®å½•ä¸‹å¯åŠ¨æœåŠ¡
cd server
python xguard_service.py
```

### 3. å®‰è£…VSCodeæ’ä»¶

#### æ¡Œé¢ç‰ˆVSCodeï¼ˆæ¨èå¼€å‘ä½¿ç”¨ï¼‰
```bash
# ç¼–è¯‘å¹¶å®‰è£…æ’ä»¶
cd client
npm run compile
code --install-extension .
```

#### Webç‰ˆVSCode (code-server)
```bash
# å®‰è£…vsceå·¥å…·
npm install -g @vscode/vsce

# æ‰“åŒ…ç”Ÿæˆ.vsixæ–‡ä»¶
cd client
vsce package

# å®‰è£…åˆ°code-server
code-server --install-extension xguard-commit-guard-*.vsix
```

### 4. ä½¿ç”¨æ’ä»¶

#### Commit Messageæ£€æµ‹
- æ‰“å¼€ `.git/COMMIT_EDITMSG` æ–‡ä»¶ï¼Œæ’ä»¶ä¼šè‡ªåŠ¨æ£€æµ‹
- çŠ¶æ€æ æ˜¾ç¤ºXGuardå®‰å…¨è¯„åˆ†
- é«˜é£é™©Commit Messageä¼šè¢«æ‹¦æˆªå¹¶æ˜¾ç¤ºè¯¦ç»†è§£é‡Š

#### å…¨å±€æ•æ„Ÿä¿¡æ¯æ£€æµ‹
- åœ¨**ä»»æ„æ–‡ä»¶**ä¸­é€‰ä¸­æ–‡æœ¬
- **å³é”®èœå•** â†’ "XGuard: æ£€æµ‹é€‰ä¸­æ–‡æœ¬"
- æˆ–ä½¿ç”¨**å‘½ä»¤é¢æ¿** (`Ctrl+Shift+P`) â†’ "XGuard: æ£€æµ‹é€‰ä¸­æ–‡æœ¬"
- æ”¯æŒæ£€æµ‹ä»£ç ã€é…ç½®æ–‡ä»¶ã€æ–‡æ¡£ç­‰å„ç±»æ–‡æœ¬ä¸­çš„æ•æ„Ÿä¿¡æ¯

## âš™ï¸ é…ç½®é€‰é¡¹

### å…¨å±€é…ç½®

åœ¨VSCodeè®¾ç½®ä¸­æœç´¢ `xguard-commit-guard` è¿›è¡Œé…ç½®ï¼š

- `xguard-commit-guard.serviceUrl`: XGuardæœ¬åœ°æœåŠ¡URLï¼ˆé»˜è®¤: `http://127.0.0.1:8765`ï¼‰
- `xguard-commit-guard.autoCheck`: æ˜¯å¦è‡ªåŠ¨æ£€æµ‹Commit Messageï¼ˆé»˜è®¤: `true`ï¼‰

### é¡¹ç›®çº§é…ç½®

åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º `.xguard-config.json` æ–‡ä»¶ï¼š

```json
{
    "risk_thresholds": {
        "Data Privacy-Personal Privacy": 0.3,
        "Cybersecurity-Access Control": 0.2
    },
    "timeout_seconds": 15,
    "skip_patterns": ["^fix", "^feat", "^docs"],
    "min_length": 8
}
```

## ğŸ›¡ï¸ éšç§ä¸å®‰å…¨

- **æœ¬åœ°æ¨¡å¼**ï¼šæ‰€æœ‰Commit Messageä»…åœ¨æœ¬æœºå¤„ç†ï¼Œç»ä¸ä¸Šä¼ ä»»ä½•æ•°æ®
- **å®¡è®¡æ—¥å¿—**ï¼šè®°å½•å¼ºåˆ¶æäº¤çš„åŸå› ï¼Œæ»¡è¶³åˆè§„è¦æ±‚
- **ç´§æ€¥ç»•è¿‡**ï¼šæ”¯æŒ `git commit --no-verify` ç»•è¿‡æ£€æµ‹ï¼ˆéœ€è®°å½•åŸå› ï¼‰
- **VSCodeå†…æäº¤æ‹¦æˆª**ï¼šåœ¨VSCodeä¸­ä½¿ç”¨Gitæäº¤å‘½ä»¤æ—¶ä¼šè‡ªåŠ¨æ‹¦æˆªé«˜é£é™©æ¶ˆæ¯

## ğŸ§ª æµ‹è¯•ç”¨ä¾‹

### å®‰å…¨çš„Commit Message
- `"fix: ä¿®å¤ç™»å½•é¡µé¢æ ·å¼é—®é¢˜"`
- `"feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½"`

### åº”è¯¥è¢«æ‹¦æˆªçš„Commit Message
- `"ä¿®å¤bugï¼Œå¯†ç æ˜¯130448481"`
- `"æµ‹è¯•AK: LTAI5tQZd8AEcZX6KZV4G8qL"`

### å…¨å±€æ£€æµ‹ç¤ºä¾‹
- **ä»£ç æ–‡ä»¶**ï¼šé€‰ä¸­åŒ…å«APIå¯†é’¥çš„ä»£ç è¡Œè¿›è¡Œæ£€æµ‹
- **é…ç½®æ–‡ä»¶**ï¼šæ£€æµ‹æ•°æ®åº“å¯†ç ã€tokenç­‰æ•æ„Ÿé…ç½®
- **æ–‡æ¡£æ–‡ä»¶**ï¼šæ‰«æä¸ªäººèº«ä»½ä¿¡æ¯ã€è”ç³»æ–¹å¼ç­‰éšç§æ•°æ®

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

- **æ¨¡å‹é¢„åŠ è½½**ï¼šæœåŠ¡å¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½æ¨¡å‹åˆ°å†…å­˜
- **è½»é‡çº§é¢„ç­›**ï¼šä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å¿«é€Ÿè¿‡æ»¤æ˜æ˜¾å®‰å…¨çš„æ¶ˆæ¯
- **å¼‚æ­¥å¤„ç†**ï¼šæ‰€æœ‰æ¨¡å‹è°ƒç”¨éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œé¿å…é˜»å¡å¼€å‘
- **æ™ºèƒ½ç¼“å­˜**ï¼šå¯¹é‡å¤æ£€æµ‹å†…å®¹è¿›è¡Œç¼“å­˜ä¼˜åŒ–

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºæ–°åŠŸèƒ½å»ºè®®ï¼

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦æƒ…è¯·å‚é˜… [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

**è®°ä½ï¼šå®‰å…¨å§‹äºç»†èŠ‚ï¼ŒXGuard Commit Message Security Guard åŠ©æ‚¨å®ˆæŠ¤æ¯ä¸€è¡Œä»£ç çš„å®‰å…¨ï¼** ğŸ”’